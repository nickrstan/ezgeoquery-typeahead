!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("EzGeoTypeahead",[],t):"object"==typeof exports?exports.EzGeoTypeahead=t():e.EzGeoTypeahead=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1);var r=n(6);t.init=function(e){return new r.InitTypeahead(e)}},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(4)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"/******** ?Typeahead Css ********/\n.twitter-typeahead {\n    width: 100%;\n}\n\n.tt-highlight {\n    font-weight: 600;\n}\n\n.tt-hint {\n    color: #999\n}\n\n.tt-menu {\n    width: 100%;\n    margin: 12px 0;\n    padding: 8px 0;\n    background-color: #fff;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: .3rem;\n    box-shadow: 0 5px 10px rgba(0,0,0,.2);\n}\n\n.tt-suggestion {\n    padding: 3px 20px;\n    font-size: 18px;\n    line-height: 24px;\n}\n\n.tt-suggestion:hover {\n    cursor: pointer;\n    color: #fff;\n    background-color: #007bff;\n}\n\n.tt-suggestion.tt-cursor {\n    color: #fff;\n    background-color: #007bff;\n    \n}\n\n.tt-suggestion p {\n    margin: 0;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){var r={},o=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),i=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),s=null,a=0,u=[],p=n(5);function c(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](o.parts[s]);for(;s<o.parts.length;s++)i.parts.push(g(o.parts[s],t))}else{var a=[];for(s=0;s<o.parts.length;s++)a.push(g(o.parts[s],t));r[o.id]={id:o.id,refs:1,parts:a}}}}function l(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],s=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function h(e,t){var n=i(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=i(e.insertAt.before,n);n.insertBefore(t,o)}}function f(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function d(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return y(t,e.attrs),h(e,t),t}function y(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function g(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var u=a++;n=s||(s=d(t)),r=_.bind(null,n,u,!1),o=_.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=p(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,t),o=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){f(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=l(e,t);return c(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var s=n[i];(a=r[s.id]).refs--,o.push(a)}e&&c(l(e,t),t);for(i=0;i<o.length;i++){var a;if(0===(a=o[i]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete r[a.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function _(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o={minLength:3,highlight:!0,hint:!1,autoselect:!0,classNames:null,rateLimitBy:"throttle",rateLimitWait:200,limit:5,cache:!0,ttl:7776e6,prefetch:!0,selectFirstOnClose:!0,setPreviousValueOnEmpty:!1},i=function(){function e(e,t,n){this.apikey=e,this.input=t,this.options=n,this._apiurl="https://ezgeoquery.us/api",this._prefetchUrl="https://ezgeoquery.us/api/popular",this._urlDirectory="/query/",this._resultsName="geodata",this._options=o,this._currentValue={},this._currentSuggestions=[],this._typeaheadOptions={},this._ezGeoOptions={},this.activated=!1,this._apikey=e,this._input=t,n&&(this._options=r({},this._options,n)),this._typeaheadOptions={minLength:this._options.minLength,hint:this._options.hint,highlight:this._options.highlight,autoselect:this._options.autoselect,classNames:this._options.classNames},this._ezGeoOptions={selectFirstOnClose:this._options.selectFirstOnClose,setPreviousValueOnEmpty:this._options.setPreviousValueOnEmpty},this._setGeoData(),this._startTypeahead()}return Object.defineProperty(e.prototype,"resultsName",{get:function(){return this._resultsName},set:function(e){this._resultsName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeahead",{get:function(){return this._typeahead},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geodata",{get:function(){return this._geodata},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentValue",{get:function(){return this._currentValue},set:function(e){this._currentValue=e,this._typeahead.typeahead("val",this._inputDisplay(this.currentValue)),this._triggerValueChangeEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSuggestions",{get:function(){return this._currentSuggestions},set:function(e){this._currentSuggestions=e},enumerable:!0,configurable:!0}),e.prototype._updateInputValue=function(e){this._typeahead.typeahead("val",this._inputDisplay(e))},e.prototype._inputDisplay=function(e){return e.city+", "+e.state+", "+e.zip_code},e.prototype._prepare=function(e,t){return t.url=t.url+this._urlDirectory+e,t.headers={"x-authorization":this._apikey},t},e.prototype._prefetch=function(){var e=this;return this._options.prefetch?{url:this._prefetchUrl,cache:this._options.cache,ttl:this._options.ttl,cacheKey:"ezgeoquery_popular",prepare:function(t){return t.url=t.url,t.headers={"x-authorization":e._apikey},t}}:null},e.prototype._setGeoData=function(){var e=this;this._geodata=new Bloodhound({datumTokenizer:function(e){return[e.zip_code,e.state,e.city]},queryTokenizer:Bloodhound.tokenizers.nonword,local:[],identify:function(e){return e.zip_code},sufficient:2,prefetch:this._prefetch(),remote:{url:this._apiurl,prepare:function(t,n){return e._prepare(t,n)},rateLimitBy:this._options.rateLimitBy,rateLimitWait:this._options.rateLimitWait,limit:this._options.limit,transport:function(t,n,r){if(e._preventQueryOnFocus(t))return!1;$.ajax(t).done(function(e){return n(e)}).fail(function(e){if(e.responseJSON&&(e.responseJSON.error||e.responseJSON.code)){switch(e.responseJSON.code?e.responseJSON.code?e.responseJSON.code:"hippty-hop":e.responseJSON.error.code?e.responseJSON.error.code:"hippty-hop"){case"quota_monthly":console.error("Ez Geo Query: You have hit your monthly Ez Geo Query api limit. Head over to https://www.ezgeoquery.us to increase your limit");break;case"401":console.error("Ez Geo Query: No Api key");break;case"invalid_zip":console.error("Ez Geo Query: Invalid zip code");break;default:console.error("Ez Geo Query: Something bad happened")}}})}}})},e.prototype._startTypeahead=function(){var e=this;this._typeahead=this._input.typeahead(this._typeaheadOptions,{name:this.resultsName,source:this._geodata,display:function(t){return e._inputDisplay(t)}}),this._watchEvents()},e.prototype._watchEvents=function(){this._active(),this._select(),this._render(),this._ezGeoOptions.selectFirstOnClose&&this._selectFirst(),this._ezGeoOptions.setPreviousValueOnEmpty?this._setPreviousValue():this._defaultPreviousInput()},e.prototype._active=function(){var e=this;this._typeahead.on("typeahead:active",function(t){e.activated||(e.activated=!0)})},e.prototype._select=function(){var e=this;this._typeahead.on("typeahead:select",function(t,n){e._currentValue=n,e._triggerValueChangeEvent(),e.currentSuggestions=[]})},e.prototype._render=function(){var e=this;this._typeahead.on("typeahead:render",function(t,n,r,o){e.currentSuggestions=n})},e.prototype._preventQueryOnFocus=function(e){if(this._currentValue){var t=e.url,n=this._apiurl+this._urlDirectory,r=t.replace(n,"");return this._inputDisplay(this.currentValue)==r}return!1},e.prototype._defaultPreviousInput=function(){var e=this;this._typeahead.bind("typeahead:change",function(t){""==e._typeahead.typeahead("val")&&(e._currentValue={})})},e.prototype._triggerValueChangeEvent=function(){this._typeahead.trigger("typeahead:valueUpdated",this.currentValue)},e.prototype._selectFirst=function(){var e=this;this._typeahead.on("typeahead:close",function(){if(e.currentSuggestions.length>0){var t=e.currentSuggestions[0];0!==Object.keys(e.currentValue).length&&e.currentValue.zip_code==t.zip_code?e._updateInputValue(e.currentValue):(e.currentValue=t,e.currentSuggestions=[])}})},e.prototype._setPreviousValue=function(){var e=this;this._typeahead.bind("typeahead:close",function(t){if(0!==Object.keys(e.currentValue).length){var n=e._typeahead.typeahead("val"),r=e._inputDisplay(e.currentValue);0!=e.currentSuggestions.length&&n===r||e._updateInputValue(e.currentValue)}})},e}(),s=function(){function e(e){this.apikey=e,this.apikey||console.error("Ez Geo Query: We need your api key. Get one here: https://www.ezgeoquery.us")}return e.prototype.make=function(e,t){return"string"==typeof e&&(e=jQuery(e)),new i(this.apikey,e,t)},e}();t.InitTypeahead=s}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Fekdlb1R5cGVhaGVhZC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vRXpHZW9UeXBlYWhlYWQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vRXpHZW9UeXBlYWhlYWQvLi9pbmRleC50cyIsIndlYnBhY2s6Ly9Fekdlb1R5cGVhaGVhZC8uL3N0eWxlLmNzcz82MWVjIiwid2VicGFjazovL0V6R2VvVHlwZWFoZWFkLy4vc3R5bGUuY3NzIiwid2VicGFjazovL0V6R2VvVHlwZWFoZWFkLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly9Fekdlb1R5cGVhaGVhZC8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vRXpHZW9UeXBlYWhlYWQvLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly9Fekdlb1R5cGVhaGVhZC8uL0V6R2VvVHlwZWFoZWFkLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJFekdlb1R5cGVhaGVhZF8xIiwiaW5pdCIsImFwaWtleSIsIkluaXRUeXBlYWhlYWQiLCJjb250ZW50Iiwib3B0aW9ucyIsImhtciIsInRyYW5zZm9ybSIsImluc2VydEludG8iLCJ1bmRlZmluZWQiLCJsb2NhbHMiLCJwdXNoIiwidXNlU291cmNlTWFwIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjc3NNYXBwaW5nIiwiYnRvYSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VNYXAiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b0NvbW1lbnQiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjb25jYXQiLCJqb2luIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibGVuZ3RoIiwiaWQiLCJzdHlsZXNJbkRvbSIsImlzT2xkSUUiLCJmbiIsIm1lbW8iLCJhcHBseSIsImFyZ3VtZW50cyIsIm1lbW9pemUiLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRFbGVtZW50IiwidGFyZ2V0IiwicGFyZW50Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJyZWZzIiwiaiIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsImNzcyIsIm1lZGlhIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJFcnJvciIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXR0cnMiLCJ0eXBlIiwibm9uY2UiLCJuYyIsImdldE5vbmNlIiwiYWRkQXR0cnMiLCJlbCIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwib2JqIiwidXBkYXRlIiwicmVtb3ZlIiwicmVzdWx0Iiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJibG9iIiwib2xkU3JjIiwiaHJlZiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXdPYmoiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJyZXBsYWNlVGV4dCIsInRleHRTdG9yZSIsImluZGV4IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY3NzTm9kZSIsImNoaWxkTm9kZXMiLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiLCJkZWZhdWx0RXpHZW9PcHRpb25zIiwibWluTGVuZ3RoIiwiaGlnaGxpZ2h0IiwiaGludCIsImF1dG9zZWxlY3QiLCJjbGFzc05hbWVzIiwicmF0ZUxpbWl0QnkiLCJyYXRlTGltaXRXYWl0IiwibGltaXQiLCJjYWNoZSIsInR0bCIsInByZWZldGNoIiwic2VsZWN0Rmlyc3RPbkNsb3NlIiwic2V0UHJldmlvdXNWYWx1ZU9uRW1wdHkiLCJCbG9vZGhvdW5kVHlwZWFoZWFkIiwiaW5wdXQiLCJfYXBpdXJsIiwiX3ByZWZldGNoVXJsIiwiX3VybERpcmVjdG9yeSIsIl9yZXN1bHRzTmFtZSIsIl9vcHRpb25zIiwiX2N1cnJlbnRWYWx1ZSIsIl9jdXJyZW50U3VnZ2VzdGlvbnMiLCJfdHlwZWFoZWFkT3B0aW9ucyIsIl9lekdlb09wdGlvbnMiLCJhY3RpdmF0ZWQiLCJfYXBpa2V5IiwiX2lucHV0IiwiX19hc3NpZ24iLCJfc2V0R2VvRGF0YSIsIl9zdGFydFR5cGVhaGVhZCIsIl90eXBlYWhlYWQiLCJfZ2VvZGF0YSIsInR5cGVhaGVhZCIsIl9pbnB1dERpc3BsYXkiLCJjdXJyZW50VmFsdWUiLCJfdHJpZ2dlclZhbHVlQ2hhbmdlRXZlbnQiLCJfdXBkYXRlSW5wdXRWYWx1ZSIsImdlbyIsImNpdHkiLCJzdGF0ZSIsInppcF9jb2RlIiwiX3ByZXBhcmUiLCJxdWVyeSIsInNldHRpbmdzIiwidXJsIiwiaGVhZGVycyIsIngtYXV0aG9yaXphdGlvbiIsIl9wcmVmZXRjaCIsIl90aGlzIiwiY2FjaGVLZXkiLCJwcmVwYXJlIiwiQmxvb2Rob3VuZCIsImRhdHVtVG9rZW5pemVyIiwicXVlcnlUb2tlbml6ZXIiLCJ0b2tlbml6ZXJzIiwibm9ud29yZCIsImxvY2FsIiwiaWRlbnRpZnkiLCJzdWZmaWNpZW50IiwicmVtb3RlIiwidHJhbnNwb3J0Iiwib25TdWNjZXNzIiwib25FcnJvciIsIl9wcmV2ZW50UXVlcnlPbkZvY3VzIiwiJCIsImFqYXgiLCJkb25lIiwiZGF0YSIsImZhaWwiLCJyZXF1ZXN0IiwicmVzcG9uc2VKU09OIiwiZXJyb3IiLCJjb2RlIiwiY29uc29sZSIsInJlc3VsdHNOYW1lIiwiZGlzcGxheSIsIl93YXRjaEV2ZW50cyIsIl9hY3RpdmUiLCJfc2VsZWN0IiwiX3JlbmRlciIsIl9zZWxlY3RGaXJzdCIsIl9zZXRQcmV2aW91c1ZhbHVlIiwiX2RlZmF1bHRQcmV2aW91c0lucHV0Iiwib24iLCJldiIsInNlbGVjdGlvbiIsImN1cnJlbnRTdWdnZXN0aW9ucyIsImV2ZW50Iiwic3VnZ2VzdGlvbnMiLCJhc3luYyIsImRhdGFzZXROYW1lIiwib3V0R29pbmciLCJhcGlVcmwiLCJ0cmlnZ2VyIiwiZmlyc3RTdWdnZXN0aW9uIiwiaW5wdXRWYWx1ZSIsImlucHV0RGlzcGxheSIsIm1ha2UiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELElBQ0EsbUJBQUFHLGVBQUFDLElBQ0FELE9BQUEsb0JBQUFILEdBQ0EsaUJBQUFDLFFBQ0FBLFFBQUEsZUFBQUQsSUFFQUQsRUFBQSxlQUFBQyxJQVJBLENBU0NLLE9BQUEsV0FDRCxtQkNUQSxJQUFBQyxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBUCxRQUdBLElBQUFDLEVBQUFJLEVBQUFFLElBQ0FDLEVBQUFELEVBQ0FFLEdBQUEsRUFDQVQsWUFVQSxPQU5BVSxFQUFBSCxHQUFBSSxLQUFBVixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBTSxHQUdBTCxFQUFBUSxHQUFBLEVBR0FSLEVBQUFELFFBMERBLE9BckRBTSxFQUFBTSxFQUFBRixFQUdBSixFQUFBTyxFQUFBUixFQUdBQyxFQUFBUSxFQUFBLFNBQUFkLEVBQUFlLEVBQUFDLEdBQ0FWLEVBQUFXLEVBQUFqQixFQUFBZSxJQUNBRyxPQUFBQyxlQUFBbkIsRUFBQWUsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNWLEVBQUFnQixFQUFBLFNBQUF0QixHQUNBLG9CQUFBdUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQW5CLEVBQUF1QixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQW5CLEVBQUEsY0FBaUR5QixPQUFBLEtBUWpEbkIsRUFBQW9CLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURB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RixPQUFPcEYsSUFHVixJQUFJRCxFQUFvQnBKLEtBQUtiLE9BQVFrSyxFQUFPL0osSUFHdkRGLEVBcEJBLEdBQWEzQyxFQUFBMkMiLCJmaWxlIjoiZXpnZW9xdWVyeS10eXBlYWhlYWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIkV6R2VvVHlwZWFoZWFkXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkV6R2VvVHlwZWFoZWFkXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkV6R2VvVHlwZWFoZWFkXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCB7IEluaXRUeXBlYWhlYWQgfSBmcm9tICcuL0V6R2VvVHlwZWFoZWFkJztcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoYXBpa2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IEluaXRUeXBlYWhlYWQoYXBpa2V5KTtcbn0iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qKioqKioqKiA/VHlwZWFoZWFkIENzcyAqKioqKioqKi9cXG4udHdpdHRlci10eXBlYWhlYWQge1xcbiAgICB3aWR0aDogMTAwJTtcXG59XFxuXFxuLnR0LWhpZ2hsaWdodCB7XFxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XFxufVxcblxcbi50dC1oaW50IHtcXG4gICAgY29sb3I6ICM5OTlcXG59XFxuXFxuLnR0LW1lbnUge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgbWFyZ2luOiAxMnB4IDA7XFxuICAgIHBhZGRpbmc6IDhweCAwO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMik7XFxuICAgIGJvcmRlci1yYWRpdXM6IC4zcmVtO1xcbiAgICBib3gtc2hhZG93OiAwIDVweCAxMHB4IHJnYmEoMCwwLDAsLjIpO1xcbn1cXG5cXG4udHQtc3VnZ2VzdGlvbiB7XFxuICAgIHBhZGRpbmc6IDNweCAyMHB4O1xcbiAgICBmb250LXNpemU6IDE4cHg7XFxuICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xcbn1cXG5cXG4udHQtc3VnZ2VzdGlvbjpob3ZlciB7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XFxufVxcblxcbi50dC1zdWdnZXN0aW9uLnR0LWN1cnNvciB7XFxuICAgIGNvbG9yOiAjZmZmO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xcbiAgICBcXG59XFxuXFxuLnR0LXN1Z2dlc3Rpb24gcCB7XFxuICAgIG1hcmdpbjogMDtcXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiIsIi8qKlxuICogRXpHZW9UeXBlYWhlYWRcbiAqL1xuXG5kZWNsYXJlIGNvbnN0IGpRdWVyeTogYW55O1xuZGVjbGFyZSBjb25zdCBCbG9vZGhvdW5kOiBhbnk7XG5cbi8vIFBvc3NpYmxlIGV6Z2VvIHJlc3Bvc2Vcbi8vICNUT0RPIHRoZXNlIG5hbWVzIGhhdmUgY2hhbmdlZCwgJiYgZm9yIG5vdyBpdHMganVzdCByZXR1cm5zIHRoZSBzdGF0ZSwgY2l0eSBhbmQgemlwXG5leHBvcnQgaW50ZXJmYWNlIEV6R2VvUXVlcnkge1xuICBpZD86ICAgICAgICAgICAgbnVtYmVyO1xuICBjaXR5PzogICAgICAgICAgc3RyaW5nO1xuICBjb3VudHk/OiAgICAgICAgc3RyaW5nO1xuICBzdGF0ZV9jb2RlPzogICAgc3RyaW5nO1xuICBzdGF0ZT86ICAgICAgICAgc3RyaW5nO1xuICB6aXBfY29kZT86ICAgICAgbnVtYmVyO1xuICB0eXBlPzogICAgICAgICAgc3RyaW5nO1xuICBsYXRpdHVkZT86ICAgICAgc3RyaW5nO1xuICBsb25naXR1ZGU/OiAgICAgc3RyaW5nO1xuICBhcmVhX2NvZGU/OiAgICAgc3RyaW5nO1xuICBwb3B1bGF0aW9uPzogICAgbnVtYmVyO1xuICBob3VzZWhvbGRzPzogICAgbnVtYmVyO1xuICBtZWRpYW5faW5jb21lPzogbnVtYmVyO1xuICBsYW5kX2FyZWE/OiAgICAgbnVtYmVyO1xuICB3YXRlcl9hcmVhPzogICAgbnVtYmVyO1xuICB0aW1lX3pvbmU/OiAgICAgc3RyaW5nO1xuICB1cGRhdGVkX2F0PzogICAgc3RyaW5nO1xuICBjcmVhdGVkX2F0PzogICAgc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgRXpHZW9PcHRpb25zIHtcbiAgc2VsZWN0Rmlyc3RPbkNsb3NlPzogYm9vbGVhbjtcbiAgc2V0UHJldmlvdXNWYWx1ZU9uRW1wdHk/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgRXpHZW9CbG9vZGhvdW5kIHtcbiAgcmF0ZUxpbWl0Qnk/OiBzdHJpbmc7XG4gIHJhdGVMaW1pdFdhaXQ/OiBudW1iZXI7XG4gIGxpbWl0PzogbnVtYmVyO1xuICBjYWNoZT86IGJvb2xlYW47XG4gIHR0bD86IG51bWJlcjtcbiAgcHJlZmV0Y2g/OiBib29sZWFuO1xufVxuXG4vKiogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vY29yZWphdmFzY3JpcHQvdHlwZWFoZWFkLmpzL2Jsb2IvbWFzdGVyL2RvYy9qcXVlcnlfdHlwZWFoZWFkLm1kI29wdGlvbnMgKi9cbmludGVyZmFjZSBDbGFzc05hbWVzIHtcbiAgaW5wdXQ/OiBzdHJpbmc7XG4gIGhpbnQ/OiBzdHJpbmc7XG4gIG1lbnU/OiBzdHJpbmc7XG4gIGRhdGFzZXQ/OiBzdHJpbmc7XG4gIHN1Z2dlc3Rpb24/OiBzdHJpbmc7XG4gIGVtcHR5Pzogc3RyaW5nO1xuICBvcGVuPzogc3RyaW5nO1xuICBjdXJzb3I/OiBzdHJpbmc7XG4gIGhpZ2hsaWdodD86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFR5cGVhaGVhZE9wdGlvbnMge1xuICBtaW5MZW5ndGg/OiBudW1iZXI7XG4gIGhpZ2hsaWdodD86IGJvb2xlYW47XG4gIGhpbnQ/OiBib29sZWFuO1xuICBhdXRvc2VsZWN0PzogYm9vbGVhbjtcbiAgY2xhc3NOYW1lcz86IENsYXNzTmFtZXM7XG59XG5cbmludGVyZmFjZSBFekdlb1R5cGVhaGVhZE9wdGlvbnMgZXh0ZW5kcyBUeXBlYWhlYWRPcHRpb25zLCBFekdlb09wdGlvbnMsIEV6R2VvQmxvb2Rob3VuZCB7fVxuXG5pbnRlcmZhY2UgUmVtb3RlT3B0aW9uc1JlcXVlc3Qge1xuICBkYXRhVHlwZT86IHN0cmluZztcbiAgaGVhZGVycz86IGFueTtcbiAgdHlwZT86IHN0cmluZztcbiAgdXJsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEF2YWlsYWJsZSBPcHRpb25zXG4gKiBDdXN0b20gKyBUeXBlYWhlYWRcbiAqIFxuICogV2Ugb25seSBhbGxvdyBvcHRpb25zIHdlIHRoaW5rIHdlIHNob3VsZCBhbGxvd1xuICogSWYgd2Ugd2FudGVkIHRvIGNvbmZpZ3VyZSBtb3JlLCBzZWUgdGhlIGJlbG93XG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9jb3JlamF2YXNjcmlwdC90eXBlYWhlYWQuanMvYmxvYi9tYXN0ZXIvZG9jL2pxdWVyeV90eXBlYWhlYWQubWQjb3B0aW9uc1xuICovXG5jb25zdCBkZWZhdWx0RXpHZW9PcHRpb25zOiBFekdlb1R5cGVhaGVhZE9wdGlvbnMgPSB7XG4gIC8vIGRlZmF1bHQgdHlwYWhlYWRcbiAgbWluTGVuZ3RoOiAzLFxuICBoaWdobGlnaHQ6IHRydWUsXG4gIGhpbnQ6IGZhbHNlLFxuICBhdXRvc2VsZWN0OiB0cnVlLFxuICBjbGFzc05hbWVzOiBudWxsLFxuICAvLyBkZWZhdWx0IGJsb29kaG91bmRcbiAgcmF0ZUxpbWl0Qnk6ICd0aHJvdHRsZScsXG4gIHJhdGVMaW1pdFdhaXQ6IDIwMCxcbiAgbGltaXQ6IDUsXG4gIGNhY2hlOiB0cnVlLFxuICB0dGw6IDc3NzYwMDAwMDAsIC8vIDMgbW9udGhzIGluIG1zXG4gIHByZWZldGNoOiB0cnVlLFxuICAvLyBkZWZhdWx0IGV6Z2VvXG4gIHNlbGVjdEZpcnN0T25DbG9zZTogdHJ1ZSxcbiAgc2V0UHJldmlvdXNWYWx1ZU9uRW1wdHk6IGZhbHNlLFxufVxuXG5jbGFzcyBCbG9vZGhvdW5kVHlwZWFoZWFkIHtcblxuICBwcml2YXRlIF9hcGlrZXk6IHN0cmluZztcbiAgcHJpdmF0ZSBfaW5wdXQ6IGFueTtcbiAgcHJpdmF0ZSBfYXBpdXJsOiBzdHJpbmcgPSAnaHR0cHM6Ly9lemdlb3F1ZXJ5LnVzL2FwaSc7XG4gIHByaXZhdGUgX3ByZWZldGNoVXJsOiBzdHJpbmcgPSAnaHR0cHM6Ly9lemdlb3F1ZXJ5LnVzL2FwaS9wb3B1bGFyJztcbiAgcHJpdmF0ZSBfdXJsRGlyZWN0b3J5OiBzdHJpbmcgPSAnL3F1ZXJ5Lyc7XG5cbiAgcHJpdmF0ZSBfcmVzdWx0c05hbWUgPSAnZ2VvZGF0YSc7XG4gIGdldCByZXN1bHRzTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzdWx0c05hbWU7XG4gIH1cbiAgc2V0IHJlc3VsdHNOYW1lKG5hbWU6IHN0cmluZykge1xuICAgIHRoaXMuX3Jlc3VsdHNOYW1lID0gbmFtZTtcbiAgfVxuICBcbiAgcHJpdmF0ZSBfdHlwZWFoZWFkOiBhbnk7XG4gIGdldCB0eXBlYWhlYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3R5cGVhaGVhZDtcbiAgfVxuXG4gIHByaXZhdGUgX2dlb2RhdGE6IGFueTtcbiAgZ2V0IGdlb2RhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dlb2RhdGE7XG4gIH1cblxuICBwcml2YXRlIF9vcHRpb25zOiBFekdlb1R5cGVhaGVhZE9wdGlvbnMgPSBkZWZhdWx0RXpHZW9PcHRpb25zO1xuXG4gIHByaXZhdGUgX2N1cnJlbnRWYWx1ZTogRXpHZW9RdWVyeSA9IHt9O1xuICBzZXQgY3VycmVudFZhbHVlKHZhbHVlOiBFekdlb1F1ZXJ5KSB7XG4gICAgdGhpcy5fY3VycmVudFZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5fdHlwZWFoZWFkLnR5cGVhaGVhZCgndmFsJywgdGhpcy5faW5wdXREaXNwbGF5KHRoaXMuY3VycmVudFZhbHVlKSk7XG4gICAgdGhpcy5fdHJpZ2dlclZhbHVlQ2hhbmdlRXZlbnQoKTtcbiAgfVxuICBcbiAgZ2V0IGN1cnJlbnRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudFZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfY3VycmVudFN1Z2dlc3Rpb25zOiBFekdlb1F1ZXJ5W10gPSBbXTtcbiAgc2V0IGN1cnJlbnRTdWdnZXN0aW9ucyh2YWx1ZTogRXpHZW9RdWVyeVtdKSB7XG4gICAgdGhpcy5fY3VycmVudFN1Z2dlc3Rpb25zID0gdmFsdWU7XG4gIH1cbiAgXG4gIGdldCBjdXJyZW50U3VnZ2VzdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRTdWdnZXN0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgX3R5cGVhaGVhZE9wdGlvbnM6IFR3aXR0ZXIuVHlwZWFoZWFkLk9wdGlvbnMgPSB7fTtcbiAgcHJpdmF0ZSBfZXpHZW9PcHRpb25zOiBFekdlb09wdGlvbnMgPSB7fTtcblxuICAvLyBoYXMgdGhpcyBpbnB1dCBiZWVuIGluaXRpbGl6ZWRcbiAgYWN0aXZhdGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGFwaWtleTogc3RyaW5nLFxuICAgIHB1YmxpYyBpbnB1dDogYW55LFxuICAgIHB1YmxpYyBvcHRpb25zOiBFekdlb1R5cGVhaGVhZE9wdGlvbnNcbiAgKSB7XG4gICAgdGhpcy5fYXBpa2V5ID0gYXBpa2V5O1xuICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAvLyBNZXJnZSBvcHRpb25zIHdpdGggZGVmYXVsdFxuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICB0aGlzLl9vcHRpb25zID0geyAuLi50aGlzLl9vcHRpb25zLCAuLi5vcHRpb25zIH1cbiAgICB9XG5cbiAgICAvLyBtYWtlIG9wdGlvbnNcbiAgICB0aGlzLl90eXBlYWhlYWRPcHRpb25zID0ge1xuICAgICAgbWluTGVuZ3RoOiB0aGlzLl9vcHRpb25zLm1pbkxlbmd0aCxcbiAgICAgIGhpbnQ6IHRoaXMuX29wdGlvbnMuaGludCxcbiAgICAgIGhpZ2hsaWdodDogdGhpcy5fb3B0aW9ucy5oaWdobGlnaHQsXG4gICAgICBhdXRvc2VsZWN0OiB0aGlzLl9vcHRpb25zLmF1dG9zZWxlY3QsXG4gICAgICBjbGFzc05hbWVzOiB0aGlzLl9vcHRpb25zLmNsYXNzTmFtZXMsXG4gICAgfVxuXG4gICAgdGhpcy5fZXpHZW9PcHRpb25zID0ge1xuICAgICAgc2VsZWN0Rmlyc3RPbkNsb3NlOiB0aGlzLl9vcHRpb25zLnNlbGVjdEZpcnN0T25DbG9zZSxcbiAgICAgIHNldFByZXZpb3VzVmFsdWVPbkVtcHR5OiB0aGlzLl9vcHRpb25zLnNldFByZXZpb3VzVmFsdWVPbkVtcHR5XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0R2VvRGF0YSgpO1xuICAgIHRoaXMuX3N0YXJ0VHlwZWFoZWFkKCk7XG4gICBcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGlucHV0IHZhbHVlLCBub3QgdGhlIGN1cnJlbnRWYWx1ZS5cbiAgICogIERPIG5vdCB0cmlnZ2VyIGFuZCB1cGRhdGUgZXZlbnRcbiAgICovXG4gIHByaXZhdGUgX3VwZGF0ZUlucHV0VmFsdWUodmFsdWU6IEV6R2VvUXVlcnkpOiB2b2lkIHtcbiAgICB0aGlzLl90eXBlYWhlYWQudHlwZWFoZWFkKCd2YWwnLCB0aGlzLl9pbnB1dERpc3BsYXkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZCBhIHN0cmluZyB0byBkaXNwbGF5IGluIHRoZSBpbnB1dCBmaWVsZCwgYW5kIHN1Z2dlc3Rpb24gdHlwZWFoZWFkIHJlc3VsdCBsaXN0c1xuICAgKiBcbiAgICogQHBhcmFtIGdlbyB8IGV6Z2VvcXVlcnkgb2JqZWN0IFxuICAgKi9cbiAgcHJpdmF0ZSBfaW5wdXREaXNwbGF5KGdlbzogRXpHZW9RdWVyeSkge1xuICAgIHJldHVybiBnZW8uY2l0eSArICcsICcgKyBnZW8uc3RhdGUgKyAnLCAnICsgZ2VvLnppcF9jb2RlO1xuICB9XG4gIFxuICAvKipcbiAgICogUGlwZSB0aGUgcXVlcnkgaW50byB0aGUgdXJsXG4gICAqIEF0dGFjaCB0aGUgeC1hdXRob3JpemF0aW9uIGhlYWRlciB0byB0aGUgZXpnZW8gcmVxdWVzdFxuICAgKiBcbiAgICogQHBhcmFtIHF1ZXJ5XG4gICAqIEBwYXJhbSBzZXR0aW5ncyBcbiAgICovXG4gIHByaXZhdGUgX3ByZXBhcmUocXVlcnk6IHN0cmluZywgc2V0dGluZ3M6IGFueSkge1xuICAgIHNldHRpbmdzLnVybCA9IHNldHRpbmdzLnVybCArIHRoaXMuX3VybERpcmVjdG9yeSArIHF1ZXJ5O1xuICAgIHNldHRpbmdzLmhlYWRlcnMgPSB7XG4gICAgICBcIngtYXV0aG9yaXphdGlvblwiOiB0aGlzLl9hcGlrZXlcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBzZXR0aW5ncztcbiAgfVxuXG4gIC8qKiBDaGVjayB0aGUgb3B0aW9ucyBhbmQgcmV0dXJuIHRoZSBwcmVmZXRjaCBvYmplY3QgaWYgdHJ1ZSAqL1xuICBwcml2YXRlIF9wcmVmZXRjaCgpOiBhbnkge1xuICAgIGlmICh0aGlzLl9vcHRpb25zLnByZWZldGNoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1cmw6IHRoaXMuX3ByZWZldGNoVXJsLFxuICAgICAgICBjYWNoZTogdGhpcy5fb3B0aW9ucy5jYWNoZSxcbiAgICAgICAgdHRsOiB0aGlzLl9vcHRpb25zLnR0bCxcbiAgICAgICAgY2FjaGVLZXk6ICdlemdlb3F1ZXJ5X3BvcHVsYXInLFxuICAgICAgICBwcmVwYXJlOiAoc2V0dGluZ3M6IGFueSkgPT4ge1xuICAgICAgICAgIHNldHRpbmdzLnVybCA9IHNldHRpbmdzLnVybDtcbiAgICAgICAgICBzZXR0aW5ncy5oZWFkZXJzID0ge1xuICAgICAgICAgICAgXCJ4LWF1dGhvcml6YXRpb25cIjogdGhpcy5fYXBpa2V5XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiBzZXR0aW5ncztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zZXRHZW9EYXRhKCk6IHZvaWQge1xuICAgIHRoaXMuX2dlb2RhdGEgPSBuZXcgQmxvb2Rob3VuZCh7XG4gICAgICBkYXR1bVRva2VuaXplcjogKG9iajogRXpHZW9RdWVyeSkgPT4ge1xuICAgICAgICByZXR1cm4gWyBvYmouemlwX2NvZGUsIG9iai5zdGF0ZSwgb2JqLmNpdHkgXTtcbiAgICAgIH0sXG4gICAgICBxdWVyeVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLm5vbndvcmQsXG4gICAgICBsb2NhbDogW10sXG4gICAgICBpZGVudGlmeTogKG9iaikgPT4gb2JqLnppcF9jb2RlLFxuICAgICAgc3VmZmljaWVudDogMixcbiAgICAgIHByZWZldGNoOiB0aGlzLl9wcmVmZXRjaCgpLFxuICAgICAgcmVtb3RlOiB7XG4gICAgICAgIHVybDogdGhpcy5fYXBpdXJsLFxuICAgICAgICBwcmVwYXJlOiAocXVlcnk6IHN0cmluZywgc2V0dGluZ3M6IGFueSkgPT4gdGhpcy5fcHJlcGFyZShxdWVyeSwgc2V0dGluZ3MpLFxuICAgICAgICByYXRlTGltaXRCeTogdGhpcy5fb3B0aW9ucy5yYXRlTGltaXRCeSxcbiAgICAgICAgcmF0ZUxpbWl0V2FpdDogdGhpcy5fb3B0aW9ucy5yYXRlTGltaXRXYWl0LFxuICAgICAgICBsaW1pdDogdGhpcy5fb3B0aW9ucy5saW1pdCxcbiAgICAgICAgdHJhbnNwb3J0OiAob3B0aW9ucywgb25TdWNjZXNzLCBvbkVycm9yKSA9PiB7XG5cbiAgICAgICAgICAvLyBjaGVjayBoZXJlIGZvciB0aGUgX3ByZXZlbnRRdWVyeU9uRm9jdXNcbiAgICAgICAgICBpZiAodGhpcy5fcHJldmVudFF1ZXJ5T25Gb2N1cyhvcHRpb25zKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICQuYWpheChvcHRpb25zKS5kb25lKCBkYXRhID0+IG9uU3VjY2VzcyhkYXRhKSApXG4gICAgICAgICAgLmZhaWwoIChyZXF1ZXN0OiBhbnkpID0+IHtcblxuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIGVycm9yXG4gICAgICAgICAgICBpZiAocmVxdWVzdC5yZXNwb25zZUpTT04gJiYgKHJlcXVlc3QucmVzcG9uc2VKU09OLmVycm9yIHx8IHJlcXVlc3QucmVzcG9uc2VKU09OLmNvZGUpKSB7XG5cbiAgICAgICAgICAgICAgbGV0IGNvZGU7XG5cbiAgICAgICAgICAgICAgaWYgKHJlcXVlc3QucmVzcG9uc2VKU09OLmNvZGUpIHtcbiAgICAgICAgICAgICAgICBjb2RlID0gcmVxdWVzdC5yZXNwb25zZUpTT04uY29kZVxuICAgICAgICAgICAgICAgICAgPyByZXF1ZXN0LnJlc3BvbnNlSlNPTi5jb2RlIDogJ2hpcHB0eS1ob3AnO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvZGUgPSByZXF1ZXN0LnJlc3BvbnNlSlNPTi5lcnJvci5jb2RlXG4gICAgICAgICAgICAgICAgICA/IHJlcXVlc3QucmVzcG9uc2VKU09OLmVycm9yLmNvZGUgOiAnaGlwcHR5LWhvcCc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3F1b3RhX21vbnRobHknOlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXogR2VvIFF1ZXJ5OiBZb3UgaGF2ZSBoaXQgeW91ciBtb250aGx5IEV6IEdlbyBRdWVyeSBhcGkgbGltaXQuIEhlYWQgb3ZlciB0byBodHRwczovL3d3dy5lemdlb3F1ZXJ5LnVzIHRvIGluY3JlYXNlIHlvdXIgbGltaXQnKTsgXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICc0MDEnOlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXogR2VvIFF1ZXJ5OiBObyBBcGkga2V5Jyk7IFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnaW52YWxpZF96aXAnOlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXogR2VvIFF1ZXJ5OiBJbnZhbGlkIHppcCBjb2RlJyk7IFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0V6IEdlbyBRdWVyeTogU29tZXRoaW5nIGJhZCBoYXBwZW5lZCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIHR5cGVhaGVhZCBtZXRob2QgaW4gdGhlIGlucHV0XG4gICAqIHN0YXJ0IHRoZSB3YXRjaCBldmVudHNcbiAgICovXG4gIHByaXZhdGUgX3N0YXJ0VHlwZWFoZWFkKCk6IHZvaWQge1xuICAgIHRoaXMuX3R5cGVhaGVhZCA9IHRoaXMuX2lucHV0LnR5cGVhaGVhZCh0aGlzLl90eXBlYWhlYWRPcHRpb25zLCB7XG4gICAgICBuYW1lOiB0aGlzLnJlc3VsdHNOYW1lLFxuICAgICAgc291cmNlOiB0aGlzLl9nZW9kYXRhLFxuICAgICAgZGlzcGxheTogKGdlbzogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dERpc3BsYXkoZ2VvKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHRoaXMgbmVlZHMgdG8gd2FpdCBmb3IgaW5pdFxuICAgIHRoaXMuX3dhdGNoRXZlbnRzKCk7XG4gIH1cblxuICBwcml2YXRlIF93YXRjaEV2ZW50cygpOiB2b2lkIHtcbiAgICB0aGlzLl9hY3RpdmUoKTtcbiAgICB0aGlzLl9zZWxlY3QoKTtcbiAgICB0aGlzLl9yZW5kZXIoKTtcblxuICAgIGlmICh0aGlzLl9lekdlb09wdGlvbnMuc2VsZWN0Rmlyc3RPbkNsb3NlKSB7XG4gICAgICB0aGlzLl9zZWxlY3RGaXJzdCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9lekdlb09wdGlvbnMuc2V0UHJldmlvdXNWYWx1ZU9uRW1wdHkpIHtcbiAgICAgIHRoaXMuX3NldFByZXZpb3VzVmFsdWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZGVmYXVsdFByZXZpb3VzSW5wdXQoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9hY3RpdmUoKTogdm9pZCB7XG4gICAgdGhpcy5fdHlwZWFoZWFkLm9uKCd0eXBlYWhlYWQ6YWN0aXZlJywgKGV2KSA9PiB7XG4gICAgICBpZiAoIXRoaXMuYWN0aXZhdGVkKSB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gdHJ1ZTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogT24gc2VsZWN0XG4gICAqIENhbmNlbCB0aGUgbmV4dCBhc3luY1xuICAgKiBTZXQgdGhlIGN1cnJlbnQgdmFsdWVcbiAgICogRW1wdHkgb3V0IHN1Z2dlc3Rpb25zXG4gICAqL1xuICBwcml2YXRlIF9zZWxlY3QoKTogdm9pZCB7XG4gICAgdGhpcy5fdHlwZWFoZWFkLm9uKCd0eXBlYWhlYWQ6c2VsZWN0JywgKGV2LCBzZWxlY3Rpb24pID0+IHtcbiAgICAgIC8vIHRhcCBpbnRvIHRoZSByYXcgcHJvcGVydHkgaGVyZVxuICAgICAgdGhpcy5fY3VycmVudFZhbHVlID0gc2VsZWN0aW9uO1xuICAgICAgLy8gd2hpY2ggbWVhbnMgd2Ugc2hvdWxkIHRyaWdnZXIgYW4gdXBkYXRlIGV2ZW50XG4gICAgICB0aGlzLl90cmlnZ2VyVmFsdWVDaGFuZ2VFdmVudCgpO1xuICAgICAgdGhpcy5jdXJyZW50U3VnZ2VzdGlvbnMgPSBbXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIGEgc3VnZ2VzdGlvbihzKSBhcmUgcmVuZGVyZWRcbiAgICovXG4gIHByaXZhdGUgX3JlbmRlcigpOiB2b2lkIHtcbiAgICB0aGlzLl90eXBlYWhlYWQub24oJ3R5cGVhaGVhZDpyZW5kZXInLCAoZXZlbnQsIHN1Z2dlc3Rpb25zLCBhc3luYywgZGF0YXNldE5hbWUpID0+IHtcbiAgICAgIHRoaXMuY3VycmVudFN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnM7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogV2hlbiB0aGVyZSBpcyBhIHZhbHVlLCBhbmQgaXRzIHN0cmluZyBtYXRjaGVzIHRoZSBjdXJyZW50XG4gICAqIENhbmNlbCB0aGUgYXN5bmMgcmVxdWVzdFxuICAgKiBcbiAgICovXG4gIHByaXZhdGUgX3ByZXZlbnRRdWVyeU9uRm9jdXMob3B0aW9uczogUmVtb3RlT3B0aW9uc1JlcXVlc3QpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5fY3VycmVudFZhbHVlKSB7XG4gICAgICBjb25zdCBvdXRHb2luZyA9IG9wdGlvbnMudXJsO1xuICAgICAgY29uc3QgYXBpVXJsID0gdGhpcy5fYXBpdXJsICsgdGhpcy5fdXJsRGlyZWN0b3J5O1xuICAgICAgY29uc3QgcXVlcnkgPSBvdXRHb2luZy5yZXBsYWNlKGFwaVVybCwgJycpO1xuICAgICAgY29uc3QgY3VycmVudERpc3BsYXkgPSB0aGlzLl9pbnB1dERpc3BsYXkodGhpcy5jdXJyZW50VmFsdWUpO1xuICAgICAgaWYgKGN1cnJlbnREaXNwbGF5ID09IHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfZGVmYXVsdFByZXZpb3VzSW5wdXQoKSB7XG4gICAgdGhpcy5fdHlwZWFoZWFkLmJpbmQoJ3R5cGVhaGVhZDpjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgY29uc3QgaW5wdXRWYWx1ZSA9IHRoaXMuX3R5cGVhaGVhZC50eXBlYWhlYWQoJ3ZhbCcpO1xuICAgICAgaWYgKGlucHV0VmFsdWUgPT0gJycpIHtcbiAgICAgICAgLy8gdGFwIGludG8gdGhlIHJhdyBwcm9wZXJ0eSBoZXJlXG4gICAgICAgIHRoaXMuX2N1cnJlbnRWYWx1ZSA9IHt9O1xuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIF90cmlnZ2VyVmFsdWVDaGFuZ2VFdmVudCgpIHtcbiAgICB0aGlzLl90eXBlYWhlYWQudHJpZ2dlcigndHlwZWFoZWFkOnZhbHVlVXBkYXRlZCcsIHRoaXMuY3VycmVudFZhbHVlKTtcbiAgfVxuXG4gIC8qIE9wdGlvbmFsIE1ldGhvZHMgKi9cblxuICAvKipcbiAgICogc2VsZWN0Rmlyc3RPbkNsb3NlXG4gICAqIFxuICAgKiBPbiBjaGFuZ2UgaWYgdGhlIHVzZXIgaGFzIGEgcHJldmlvdXMgdmFsdWVcbiAgICogQW5kIHRoZXJlIGlzIGN1cnJlbnQgc3VnZ2VzdGlvbnMgdGhhdCBtYXRjaCB3aGF0IHRoZXkgaGF2ZSB0eXBlZFxuICAgKiBCdXQgZG8gbm90IHNlbGVjdCBcbiAgICogSWYgdGhlIGZpcnN0IHN1Z2dlc3Rpb24uaWQgIT0gY3VycmVudC5pZFxuICAgKiBTZWxlY3QgdGhlIGZpcnN0IGluIHRoZSBsaXN0IGFuZCB1cGRhdGUgaW5wdXQgdmFsdWVcbiAgICogXG4gICAqIFRoaXMgb25seSB3b3JrcyBmb3IgY2xpY2tpbmcgb2ZmLCB0YWJiaW5nIG9mZiBpcyBoYW5kbGVkIGludGVybmFsbHkgd2l0aCB0aGUgYXV0b3NlbGVjdCB0eXBlYWhlYWQgb3B0aW9uXG4gICAqL1xuICBwcml2YXRlIF9zZWxlY3RGaXJzdCgpOiB2b2lkIHtcbiAgICB0aGlzLl90eXBlYWhlYWQub24oJ3R5cGVhaGVhZDpjbG9zZScsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRTdWdnZXN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0U3VnZ2VzdGlvbjogRXpHZW9RdWVyeSA9IHRoaXMuY3VycmVudFN1Z2dlc3Rpb25zWzBdO1xuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmN1cnJlbnRWYWx1ZSkubGVuZ3RoICE9PSAwICYmICh0aGlzLmN1cnJlbnRWYWx1ZS56aXBfY29kZSA9PSBmaXJzdFN1Z2dlc3Rpb24uemlwX2NvZGUpKSB7XG4gICAgICAgICAgLy8gcmVzZXQgdGhlIGlucHV0IHZhbHVlLCBkb3RuIHRyaWdnZXIgZXZlbnQgYXMgaXQgaXMgdGhlIHNhbWUuXG4gICAgICAgICAgdGhpcy5fdXBkYXRlSW5wdXRWYWx1ZSh0aGlzLmN1cnJlbnRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdXBkYXRlIHRoZSB2YWx1ZVxuICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gZmlyc3RTdWdnZXN0aW9uO1xuICAgICAgICAgIHRoaXMuY3VycmVudFN1Z2dlc3Rpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIFxuICAvKipcbiAgICogc2V0UHJldmlvdXNWYWx1ZU9uRW1wdHlcbiAgICogXG4gICAqIElmIHRoZSB1c2VyIGhhcyBhIGN1cnJlbnQgdmFsdWVcbiAgICogU2VhcmNoZXMgZm9yIHNvbWV0aGluZyBhbmQgbm8gcmVzdWx0cyBjb21lIHVwXG4gICAqICYmIHRoZSBjdXJyZW50IGRvZXMgbm90IGVxdWFsIHRoZSBpbnB1dCB2YWx1ZVxuICAgKiBUaGV5IGxlYXZlIChjbGljayBvciB0YWIpXG4gICAqIFNldCB0aGUgaW5wdXQgdmFsdWUgdG8gdGhlIChjdXJyZW50KVxuICAgKi9cbiAgcHJpdmF0ZSBfc2V0UHJldmlvdXNWYWx1ZSgpOiB2b2lkIHtcbiAgICB0aGlzLl90eXBlYWhlYWQuYmluZCgndHlwZWFoZWFkOmNsb3NlJywgKGUpID0+IHtcbiAgICAgIC8vIGNoZWNrIGlmLi5cbiAgICAgIC8vIDEpIHRoZSBhY3R1YWwgdmFsdWUgZG9lc250IGVxdWFsIHRoZSBjdXJyZW50IHZhbHVlIGZvcm1hdHRlZFxuICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuY3VycmVudFZhbHVlKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgY29uc3QgaW5wdXRWYWx1ZSA9IHRoaXMuX3R5cGVhaGVhZC50eXBlYWhlYWQoJ3ZhbCcpO1xuICAgICAgICBjb25zdCBpbnB1dERpc3BsYXkgPSB0aGlzLl9pbnB1dERpc3BsYXkodGhpcy5jdXJyZW50VmFsdWUpO1xuXG4gICAgICAgIGlmICggdGhpcy5jdXJyZW50U3VnZ2VzdGlvbnMubGVuZ3RoID09IDAgfHwgaW5wdXRWYWx1ZSAhPT0gaW5wdXREaXNwbGF5KSB7XG4gICAgICAgICAgLy8gcmVzZXQgdGhlIGlucHV0IHZhbHVlLCBkb3RuIHRyaWdnZXIgZXZlbnQgYXMgaXQgaXMgdGhlIHNhbWUuXG4gICAgICAgICAgdGhpcy5fdXBkYXRlSW5wdXRWYWx1ZSh0aGlzLmN1cnJlbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbml0VHlwZWFoZWFkIHtcblxuICBwdWJsaWMgYXBpa2V5OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoYXBpa2V5OiBzdHJpbmcpIHtcbiAgICB0aGlzLmFwaWtleSA9IGFwaWtleTtcbiAgICBpZiAoIXRoaXMuYXBpa2V5KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFeiBHZW8gUXVlcnk6IFdlIG5lZWQgeW91ciBhcGkga2V5LiBHZXQgb25lIGhlcmU6IGh0dHBzOi8vd3d3LmV6Z2VvcXVlcnkudXMnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBtYWtlKGlucHV0OiBhbnksIG9wdGlvbnM/OiBFekdlb1R5cGVhaGVhZE9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09ICdzdHJpbmcnKSB7XG4gICAgICBpbnB1dCA9IGpRdWVyeShpbnB1dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBCbG9vZGhvdW5kVHlwZWFoZWFkKHRoaXMuYXBpa2V5LCBpbnB1dCwgb3B0aW9ucyk7XG4gIH1cblxufSJdLCJzb3VyY2VSb290IjoiIn0=